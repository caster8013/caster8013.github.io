---
layout: post
title: "github分支协作简单教程"
tags: [ git, github , branch , 协作]
comments: true
---

> 基本需要：一个github账号，可以免费注册(入口：www.github.com)。命令行工具。

> 然后，把你的账号或者注册邮箱发给小方，他会把你添加到repository协作者列表。你的邮箱会收到一封协作邀请邮件，同意之后，你的账号会有repository的"写"权限。

<hr>

### 第一步，把代码仓库clone到本地

```
cd any/directory/  # 打开一个目录，代码仓库会被clone到这个目录内
git clone git@github.com:lanshunfang/js-training-2-2019-1.git # clone仓库到本地的命令行代码
cd js-training-2-2019-1
git status # 这个命令可以查看你所在的仓库名称和分支名称
```
请确定，git status 的输出中有 “On branch develop” 的字样，这样确保下一部的分支是从develop创建。

### 第二步，从develop分支创建个人分支

```
git checkout -b js-1-ley # 这里有两个涵义，1、从develop创建了js-1-ley分支，2、并且切换到js-1-ley分支。
git status # 查看分支名称
```

当你执行上面命令行的时候，请更换js-1-ley，把ley更换为你的名字。比如，强富请更换为js-1-qiangfu，上面的js-1-ley的意思是小方定下的，我们只需遵守就好。js-1代表js第一个 issue，ley是后缀。

这时，git status 的输出中有 "On branch js-1-ley"的字样。这时，添加和修改的代码会被放在你自己的branch下面，不会影响develop分支。

### 第三步，把代码push到github仓库

添加完代码之后，执行下面的命令，把本地代码纳入git的管理之下。

```
cd /javascript/qiangfu # 以强富为例
git add . # 把已经添加的代码文件加入缓存区
git commit -m "这是提交代码的说明" # 提交代码, 纳入git管理，双引号内的内容是你为提交的代码所作的说明

git push --set-upstream origin js-1-qiangfu # 把代码push到github上的repository, orgin是repository的url默认生成的名称，可以自定义，js-1-qiangfu是分支的名称
git push -u origin js-1-qiangfu # 与上一个命令涵义相同，一种缩写方式
```

如果提示成功的话，你的代码已经提交到remote repository。

### 第四步，创建pull request, 请求code review

打开 https://github.com/lanshunfang/js-training-2-2019-1，在code标签页中可以看到 New pull request 的绿色按钮，点击之后看到下面的图片。

<div style="text-align: center;">
<img alt="" src="/images/2019-02-25at16.36.54.png" style="margin: 0 auto;" />
</div>

base选择develop，compare选择js-1-qiangfu。（同样以强富为例）。页面下面可以填写pull request的名称和评论，点击Create pull request 即可创建pull request。成功之后，pull request列表会显示你的提交的pull request，其它小组成员都可以看到了。

上面的方法只通过命令行的方式，你也可以通过github desktop或sourcetree等图形界面完成。
<hr>

> 注意事项

-  不要提交到develop分支。每个人有自己的分支，这样可以便于小方维护代码库。

```
git push -u origin develop # 不要用这样提交代码
```

-  不要merge到develop分支。如果只在自己文件夹下添加代码，建立pull request之后，会显示下面的页面，但是不要点击Mergeg pull request按钮，这个请交给小方来做，或者不需要做。

<div style="text-align: center;">
<img alt="" src="/images/2019-02-25at16.57.22.png" style="margin: 0 auto;" />
</div>